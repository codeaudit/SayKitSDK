<!DOCTYPE HTML>
<html>
	<head>
		<meta http-equiv="Content-Type" content="html/html; charset=utf-8" />
		<title>SAYVoiceRequest Protocol Reference</title>
		<meta id="xcode-display" name="xcode-display" content="render"/>
		<link rel="stylesheet" type="text/css" href="../css/styles.css" media="all" />
		<link rel="stylesheet" type="text/css" media="print" href="../css/stylesPrint.css" />
		<meta name="generator" content="appledoc 2.2.1 (build 1333)" />
	</head>
	<body>
		<header id="top_header">
			<div id="library" class="hideInXcode">
				<h1><a id="libraryTitle" href="../index.html">SayKit </a></h1>
				<a id="developerHome" href="../index.html">Conversant Labs</a>
			</div>
			
			<div id="title" role="banner">
				<h1 class="hideInXcode">SAYVoiceRequest Protocol Reference</h1>
			</div>
			<ul id="headerButtons" role="toolbar">
				<li id="toc_button">
					<button aria-label="Show Table of Contents" role="checkbox" class="open" id="table_of_contents"><span class="disclosure"></span>Table of Contents</button>
				</li>
				<li id="jumpto_button" role="navigation">
					<select id="jumpTo">
	<option value="top">Jump To&#133;</option>
	
	<option value="overview">Overview</option>
	
	
	
	
	<option value="tasks">Tasks</option>
	
	
	
	
	
	<option value="properties">Properties</option>
	
	<option value="//api/name/interpreter">&nbsp;&nbsp;&nbsp;&nbsp;interpreter</option>
	
	<option value="//api/name/prompt">&nbsp;&nbsp;&nbsp;&nbsp;prompt</option>
	
	<option value="//api/name/recognitionService">&nbsp;&nbsp;&nbsp;&nbsp;recognitionService</option>
	
	<option value="//api/name/responder">&nbsp;&nbsp;&nbsp;&nbsp;responder</option>
	
	
	
	
	
	
	
</select>
				</li>
			</ul>
		</header>
		<nav id="tocContainer" class="isShowingTOC">
			<ul id="toc" role="tree">
				
<li role="treeitem"><span class="nodisclosure"></span><span class="sectionName"><a href="#overview">Overview</a></span></li>




<li role="treeitem" id="task_treeitem"><span class="nodisclosure"></span><span class="sectionName"><a href="#tasks">Tasks</a></span><ul>
	
</ul></li>





<li role="treeitem" class="children"><span class="disclosure"></span><span class="sectionName"><a href="#properties">Properties</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/interpreter">interpreter</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/prompt">prompt</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/recognitionService">recognitionService</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/responder">responder</a></span></li>
	
</ul></li>






			</ul>
		</nav>
		<article>
			<div id="contents" class="isShowingTOC" role="main">
				<a title="SAYVoiceRequest Protocol Reference" name="top"></a>
				<div class="main-navigation navigation-top">
					<ul>
	<li><a href="../index.html">Index</a></li>
	<li><a href="../hierarchy.html">Hierarchy</a></li>
</ul>
				</div>
				<div id="header">
					<div class="section-header">
						<h1 class="title title-header">SAYVoiceRequest Protocol Reference</h1>
					</div>		
				</div>
				<div id="container">	
					
					<div class="section section-specification"><table cellspacing="0"><tbody>
						<tr>
	<td class="specification-title">Conforms to</td>
	<td class="specification-value">NSObject</td>
</tr><tr>
	<td class="specification-title">Declared in</td>
	<td class="specification-value">SAYVoiceRequest.h</td>
</tr>
						</tbody></table></div>
					
                    
                    
					
					<div class="section section-overview">
						<a title="Overview" name="overview"></a>
						<h2 class="subtitle subtitle-overview">Overview</h2>
						<p>The <code>SAYVoiceRequest</code> protocol integrates the set of collaborators necessary to complete a single  SayKit voice request session. Any class conforming to this protocol can be a voice request by providing values for each property.</p>

<h2>Request Stages</h2>

<p>Each voice request process flows through the following four stages in order, each one represented by a collaborating agent:</p>

<ol>
<li>Prompting: The application displays and speaks a message before beginning speech recognition. This <a href="#//api/name/prompt"><code>prompt</code></a> can include custom visuals by attaching a supplemental view to it.</li>
<li>Speech Recognition: The application activates the microphone and connects to a <code>speechRecognition</code> service to translate audio into a text representation of the speech.</li>
<li>Interpretation: Given the speech in text form, in <a href="#//api/name/interpreter"><code>interpreter</code></a> can attempt to transform the text into a value more meaningful to the application (e.g. from the text &ldquo;Yes&rdquo; into a <code>true</code> Boolean value).</li>
<li>Responding: Given the interpreted value, how should the application respond? Should it perform some kind of action, or ask the user another question? The <a href="#//api/name/responder"><code>responder</code></a> defines this behavior.</li>
</ol>


<p>For the record, the <a href="../Classes/SAYVoiceRequestController.html"><code>SAYVoiceRequestController</code></a> class manages the flow between these stages, but this is handled automatically.</p>

<h2>Supported Data Types Between Stages</h2>

<p>Some of collaborating agents' protocols deal in general types, but it is very important to be aware of the concrete data types that the actual agents will consume and produce. in particular:</p>

<ul>
<li>If successful in recognizing speech, the <code>speechRecognizer</code> will produce an instance conforming to the <a href="../Protocols/SAYSpeechRecognitionResult.html"><code>SAYSpeechRecognitionResult</code></a> protocol. This simple protocol only mandates a string property, but it can be expanded to include more metadata. The corresponding <a href="#//api/name/interpreter"><code>interpreter</code></a> consumes a type conforming to <a href="../Protocols/SAYSpeechRecognitionResult.html"><code>SAYSpeechRecognitionResult</code></a> as input when performing its interpretation routine, so it can take advantage of that metadata if paired with a compatible <code>speechRecognizer</code>.</li>
<li>The <a href="#//api/name/interpreter"><code>interpreter</code></a> produces a <a href="../Classes/SAYInterpretation.html"><code>SAYInterpretation</code></a> instance, which wraps a value of type <code>id</code> along with other potentially relevant interpretation data. This underlying value represents the ultimate &ldquo;result&rdquo; of the voice request which the <a href="#//api/name/responder"><code>responder</code></a> must be able to handle. As a result, this <a href="#//api/name/responder"><code>responder</code></a> should be wired with awareness of the value type underlying the interpretation it is consuming. For example, the <a href="#//api/name/responder"><code>responder</code></a> of a <a href="../Classes/SAYConfirmationRequest.html"><code>SAYConfirmationRequest</code></a> should be expecting an interpretation whose value is of type <code>NSNumber</code> (either @0 or @1).</li>
</ul>


<p>Since Objective-C has no language-level generics support, it is the responsibility of the developer to ensure type compatability constraints are being respected across collaborators. A future Swift-specific library will bring this type-checking to the compilation-level with true generics support.</p>

<p>See the documentation below for each collaborator for more details.</p>

<p>A set of concrete standard SayKit voice requests classes exist, these classes include:</p>

<ul>
<li><a href="../Classes/SAYStringRequest.html"><code>SAYStringRequest</code></a></li>
<li><a href="../Classes/SAYConfirmationRequest.html"><code>SAYConfirmationRequest</code></a></li>
<li><a href="../Classes/SAYSelectRequest.html"><code>SAYSelectRequest</code></a></li>
<li><a href="../Classes/SAYNumericalRequest.html"><code>SAYNumericalRequest</code></a></li>
<li><a href="../Classes/SAYPatternMatchRequest.html"><code>SAYPatternMatchRequest</code></a></li>
</ul>

					</div>
					
					
					
					
					
					<div class="section section-tasks">
						<a title="Tasks" name="tasks"></a>
						<h2 class="subtitle subtitle-tasks">Tasks</h2>
						
						
						
						

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/prompt">&nbsp;&nbsp;prompt</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	<span class="task-item-suffix">required method</span>
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/recognitionService">&nbsp;&nbsp;recognitionService</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	<span class="task-item-suffix">required method</span>
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/interpreter">&nbsp;&nbsp;interpreter</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	<span class="task-item-suffix">required method</span>
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/responder">&nbsp;&nbsp;responder</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	<span class="task-item-suffix">required method</span>
</li>
						</ul>
						
					</div>
					
					
					
					
					
					<div class="section section-methods">
						<a title="Properties" name="properties"></a>
						<h2 class="subtitle subtitle-methods">Properties</h2>
						
						<div class="section-method">
	<a name="//api/name/interpreter" title="interpreter"></a>
	<h3 class="subsubtitle method-title">interpreter</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Agent responsible for translating the text from user speech into a form useful for the application.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (nonatomic, readonly, nonnull) id&lt;SAYVoiceRequestInterpreter&gt; interpreter</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Agent responsible for translating the text from user speech into a form useful for the application.</p>

<p>This instance must be capable of consuming the particular <a href="../Protocols/SAYSpeechRecognitionResult.html"><code>SAYSpeechRecognitionResult</code></a> type that it&rsquo;s associated <code>speechRecognizer</code> will produce. This interpretation process produces an object of type <a href="../Classes/SAYInterpretation.html"><code>SAYInterpretation</code></a>, which wraps an value of unspecified type. This interpretation will be consumed by the paired <a href="#//api/name/responder"><code>responder</code></a> type.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">SAYVoiceRequest.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/prompt" title="prompt"></a>
	<h3 class="subsubtitle method-title">prompt</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>The prompt to present at the beginning of the request. Conceptually, this provides the application&rsquo;s &ldquo;turn&rdquo; in a dialogue.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (nonatomic, copy, readonly, nullable) SAYVoicePrompt *prompt</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>The prompt to present at the beginning of the request. Conceptually, this provides the application&rsquo;s &ldquo;turn&rdquo; in a dialogue.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">SAYVoiceRequest.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/recognitionService" title="recognitionService"></a>
	<h3 class="subsubtitle method-title">recognitionService</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Service responsible for managing speech recognition.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (nonatomic, readonly, nonnull) id&lt;SAYSpeechRecognitionService&gt; recognitionService</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Service responsible for managing speech recognition.</p>

<p>Upon successful speech recognition, the service will produce an object conforming to the <a href="../Protocols/SAYSpeechRecognitionResult.html"><code>SAYSpeechRecognitionResult</code></a> protocol, which only requires a string property representing the recognized speech. This result will be consumed by the paired <a href="#//api/name/interpreter"><code>interpreter</code></a>.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">SAYVoiceRequest.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/responder" title="responder"></a>
	<h3 class="subsubtitle method-title">responder</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Agent responsible for responding to the interpreted user speech. This response can take many forms, including feedback messaging, application logic, and/or a followup request (see the <code>SAYVoiceRequestResponder</code> protocol for details).</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (nonatomic, readonly, nonnull) id&lt;SAYVoiceRequestResponder&gt; responder</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Agent responsible for responding to the interpreted user speech. This response can take many forms, including feedback messaging, application logic, and/or a followup request (see the <code>SAYVoiceRequestResponder</code> protocol for details).</p>

<p>This instance will consume <a href="../Classes/SAYInterpretation.html"><code>SAYInterpretation</code></a> objects. It should expect these interpretations to wrap a value of a particular type, dictated by the associated <a href="../Protocols/SAYVoiceRequest.html#//api/name/interpreter"><code>interpreter</code></a> that built it.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">SAYVoiceRequest.h</code><br />
	</div>				
	
	
</div>
						
					</div>
					
					
					
					
					
					
                    
                    
                    
                    

				</div>
				<div class="main-navigation navigation-bottom">
					<ul>
	<li><a href="../index.html">Index</a></li>
	<li><a href="../hierarchy.html">Hierarchy</a></li>
</ul>
				</div>
				<div id="footer">
					<hr />
					<div class="footer-copyright">
						<p><span class="copyright">&copy; 2016 Conversant Labs. All rights reserved. (Last updated: 2016-01-31)</span><br />
						
						<span class="generator">Generated by <a href="http://appledoc.gentlebytes.com">appledoc 2.2.1 (build 1333)</a>.</span></p>
						
					</div>
				</div>
			</div>
		</article>
		<script type="text/javascript">
			function jumpToChange()
			{
				window.location.hash = this.options[this.selectedIndex].value;
			}
			
			function toggleTOC()
			{
				var contents = document.getElementById('contents');
				var tocContainer = document.getElementById('tocContainer');
				
				if (this.getAttribute('class') == 'open')
				{
					this.setAttribute('class', '');
					contents.setAttribute('class', '');
					tocContainer.setAttribute('class', '');
					
					window.name = "hideTOC";
				}
				else
				{
					this.setAttribute('class', 'open');
					contents.setAttribute('class', 'isShowingTOC');
					tocContainer.setAttribute('class', 'isShowingTOC');
					
					window.name = "";
				}
				return false;
			}
			
			function toggleTOCEntryChildren(e)
			{
				e.stopPropagation();
				var currentClass = this.getAttribute('class');
				if (currentClass == 'children') {
					this.setAttribute('class', 'children open');
				}
				else if (currentClass == 'children open') {
					this.setAttribute('class', 'children');
				}
				return false;
			}
			
			function tocEntryClick(e)
			{
				e.stopPropagation();
				return true;
			}
			
			function init()
			{
				var selectElement = document.getElementById('jumpTo');
				selectElement.addEventListener('change', jumpToChange, false);
				
				var tocButton = document.getElementById('table_of_contents');
				tocButton.addEventListener('click', toggleTOC, false);
				
				var taskTreeItem = document.getElementById('task_treeitem');
				if (taskTreeItem.getElementsByTagName('li').length > 0)
				{
					taskTreeItem.setAttribute('class', 'children');
					taskTreeItem.firstChild.setAttribute('class', 'disclosure');
				}
				
				var tocList = document.getElementById('toc');
				
				var tocEntries = tocList.getElementsByTagName('li');
				for (var i = 0; i < tocEntries.length; i++) {
					tocEntries[i].addEventListener('click', toggleTOCEntryChildren, false);
				}
				
				var tocLinks = tocList.getElementsByTagName('a');
				for (var i = 0; i < tocLinks.length; i++) {
					tocLinks[i].addEventListener('click', tocEntryClick, false);
				}
				
				if (window.name == "hideTOC") {
					toggleTOC.call(tocButton);
				}
			}
			
			window.onload = init;
			
			// If showing in Xcode, hide the TOC and Header
			if (navigator.userAgent.match(/xcode/i)) {
				document.getElementById("contents").className = "hideInXcode"
				document.getElementById("tocContainer").className = "hideInXcode"
				document.getElementById("top_header").className = "hideInXcode"
			}
			
		</script>
	</body>
</html>